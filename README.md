# π“ Angmini - Personal AI Assistant

**Angmini**λ” Google Gemini κΈ°λ°μ ReAct (Reasoning and Acting) ν¨ν„΄μ„ ν™μ©ν• κ°μΈμ© AI μ–΄μ‹μ¤ν„΄νΈ ν”„λ΅μ νΈμ…λ‹λ‹¤. λ‹¤μ–‘ν• μΈν„°νμ΄μ¤(CLI, Discord)λ¥Ό ν†µν•΄ μ‚¬μ©μμ μ‘μ—…μ„ μλ™ν™”ν•κ³  λ„κµ¬λ¥Ό ν™μ©ν• λ³µμ΅ν• μ‘μ—…μ„ μν–‰ν•  μ μμµλ‹λ‹¤.

## π― ν”„λ΅μ νΈ λ©ν‘
- Google Gemini κΈ°λ° LLMκ³Ό MCP λ„κµ¬ μƒνƒκ³„λ¥Ό ν™μ©ν• ReAct μ—”μ§„ κµ¬μ¶•
- ν™κ²½ λ³€μ κΈ°λ° μ„¤μ •μΌλ΅ μΈν„°νμ΄μ¤λ¥Ό μ μ—°ν•κ² μ „ν™
- ν™•μ¥ κ°€λ¥ν• λ„κµ¬(νμΌ, Notion, μ›Ή λ“±) ν†µν•©
- μ§€λ¥μ  κ³„ν μλ¦½κ³Ό κ°•λ ¥ν• μ—λ¬ λ³µκµ¬ μ‹μ¤ν…

## π—οΈ ν•µμ‹¬ μ•„ν‚¤ν…μ²

### 1. **ReAct Engine (ν•µμ‹¬)**
- **Goal Executor**: μ‚¬μ©μ λ©ν‘λ¥Ό λ°›μ•„ κ³„νμ„ μλ¦½ν•κ³  μ‹¤ν–‰ν•λ” ν•µμ‹¬ μ—”μ§„
- **Step Executor**: κ°λ³„ λ‹¨κ³„λ¥Ό μ‹¤ν–‰ν•κ³  κ²°κ³Όλ¥Ό κ²€μ¦
- **Planning Engine**: μ‹¤ν¨ μ‹ μ¬μ‹λ„/μ¬κ³„ν κ²°μ •
- **Loop Detector**: λ¬΄ν• λ£¨ν”„λ‚ λ°λ³µ ν¨ν„΄ κ°μ§€
- **Safety Guard**: μ‹¤ν–‰ μ ν• λ° μ•μ „ μ¥μΉ

### 2. **MCP (Model Context Protocol) λ„κµ¬ μ‹μ¤ν…**
- **Tool Manager**: λ„κµ¬ λ“±λ΅ λ° μ‹¤ν–‰ λΌμ°ν…
- **File Tool**: νμΌ μ‹μ¤ν… μ΅°μ‘ (μ½κΈ°/μ“°κΈ°/λ©λ΅)
- **Notion Tool**: Notion API μ—°λ™ (ν• μΌ κ΄€λ¦¬, ν”„λ΅μ νΈ κ΄€λ¦¬)

### 3. **λ‹¤μ¤‘ μΈν„°νμ΄μ¤ μ§€μ›**
- **CLI**: λ…λ Ήμ¤„ μΈν„°νμ΄μ¤
- **Discord Bot**: Discord λ©”μ‹μ§€ κΈ°λ° μƒνΈμ‘μ©
- ν™κ²½λ³€μ κΈ°λ° μΈν„°νμ΄μ¤ μ „ν™

## π“ ν”„λ΅μ νΈ κµ¬μ΅°
```
Angmini/
β”β”€β”€ main.py                     # μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ 
β”β”€β”€ requirements.txt            # Python μμ΅΄μ„±
β”β”€β”€ .env.example               # ν™κ²½λ³€μ ν…ν”λ¦Ώ
β”β”€β”€ ai/                        # AI μ—”μ§„ ν•µμ‹¬
β”‚   β”β”€β”€ ai_brain.py           # Gemini API μ—°λ™ ν΄λμ¤
β”‚   β”β”€β”€ core/                 # ν•µμ‹¬ λ¨λ“
β”‚   β”‚   β”β”€β”€ config.py         # ν™κ²½λ³€μ λ° μ„¤μ • κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ logger.py         # λ΅κΉ… μ‹μ¤ν…
β”‚   β”‚   β””β”€β”€ exceptions.py     # μ»¤μ¤ν…€ μμ™Έ ν΄λμ¤
β”‚   β””β”€β”€ react_engine/         # ReAct ν¨ν„΄ κµ¬ν„μ²΄
β”‚       β”β”€β”€ goal_executor.py  # λ©ν‘ μ‹¤ν–‰ μ—”μ§„
β”‚       β”β”€β”€ step_executor.py  # λ‹¨κ³„λ³„ μ‹¤ν–‰κΈ°
β”‚       β”β”€β”€ planning_engine.py # μ¬κ³„ν/μ¬μ‹λ„ κ²°μ •
β”‚       β”β”€β”€ loop_detector.py  # λ¬΄ν• λ£¨ν”„ κ°μ§€
β”‚       β”β”€β”€ safety_guard.py   # μ•μ „ μ ν• μ¥μΉ
β”‚       β”β”€β”€ runtime.py        # μ‹¤ν–‰ ν©ν† λ¦¬
β”‚       β”β”€β”€ models.py         # λ°μ΄ν„° λ¨λΈ μ •μ
β”‚       β”β”€β”€ agent_scratchpad.py # μ‚¬κ³  κ³Όμ • κΈ°λ΅
β”‚       β”β”€β”€ conversation_memory.py # λ€ν™” λ©”λ¨λ¦¬
β”‚       β””β”€β”€ prompt_templates/ # LLM ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ
β”‚           β”β”€β”€ system_prompt.md
β”‚           β”β”€β”€ react_prompt.md
β”‚           β””β”€β”€ final_response_prompt.md
β”β”€β”€ mcp/                      # MCP λ„κµ¬ μƒνƒκ³„
β”‚   β”β”€β”€ tool_blueprint.py     # λ„κµ¬ κΈ°λ³Έ μ¶”μƒ ν΄λμ¤
β”‚   β”β”€β”€ tool_manager.py       # λ„κµ¬ λ“±λ΅/μ‹¤ν–‰ κ΄€λ¦¬
β”‚   β””β”€β”€ tools/                # κµ¬μ²΄μ  λ„κµ¬ κµ¬ν„
β”‚       β”β”€β”€ file_tool.py      # νμΌ μ‹μ¤ν… λ„κµ¬
β”‚       β””β”€β”€ notion_tool.py    # Notion API λ„κµ¬
β”β”€β”€ interface/                # μ‚¬μ©μ μΈν„°νμ΄μ¤
β”‚   β”β”€β”€ cli.py               # λ…λ Ήμ¤„ μΈν„°νμ΄μ¤
β”‚   β”β”€β”€ discord_bot.py       # Discord λ΄‡ μΈν„°νμ΄μ¤
β”‚   β””β”€β”€ summary.py           # μ‹¤ν–‰ κ²°κ³Ό μ”μ•½ ν¬λ§·ν„°
β”β”€β”€ tests/                   # ν…μ¤νΈ μ½”λ“
β”‚   β”β”€β”€ test_file_tool.py    # νμΌ λ„κµ¬ ν…μ¤νΈ
β”‚   β”β”€β”€ test_notion_tool.py  # Notion λ„κµ¬ ν…μ¤νΈ
β”‚   β”β”€β”€ test_react_engine_integration.py # ν†µν•© ν…μ¤νΈ
β”‚   β””β”€β”€ test_smoke.py        # μ¤λ¨ν¬ ν…μ¤νΈ
β”β”€β”€ scripts/                 # μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ gemini_quickcheck.py # Gemini API μ—°κ²° ν…μ¤νΈ
β”β”€β”€ docs/                    # ν”„λ΅μ νΈ λ¬Έμ„
β”‚   β”β”€β”€ USAGE.md            # μ‚¬μ© κ°€μ΄λ“
β”‚   β”β”€β”€ React_Engine_Design.md # μ—”μ§„ μ„¤κ³„ λ¬Έμ„
β”‚   β”β”€β”€ PLAN_for_Users.md   # μ‚¬μ©μμ© κ³„ν
β”‚   β””β”€β”€ instructions.md     # κ°λ° μ§€μΉ¨
β””β”€β”€ data/                   # λ°μ΄ν„° μ €μ¥μ†
```

## π€ ν„μ¬ μ§„ν–‰ μƒν™©

### β… μ™„λ£λ κΈ°λ¥ (Phase 1-4.5)
- **κΈ°λ³Έ κµ¬μ΅°**: μ„¤μ • κ΄€λ¦¬, λ΅κΉ…, μμ™Έ μ²λ¦¬
- **ReAct Engine**: μ™„μ „ν• κ³„ν-μ‹¤ν–‰-κ²€μ¦ λ£¨ν”„
- **λ„κµ¬ ν†µν•©**: File Tool, Notion Tool (κ΄€κ³„ν• λ°μ΄ν„° ν¬ν•¨)
- **μΈν„°νμ΄μ¤**: CLIμ™€ Discord λ΄‡ μ™„μ „ μ—°λ™
- **μ•μ „ μ¥μΉ**: λ£¨ν”„ κ°μ§€, μ¬μ‹λ„ μ ν•, μ—λ¬ λ³µκµ¬

### π”„ μ§„ν–‰ μ¤‘μΈ μ‘μ—… (Phase 5)
- **ν†µν•© ν…μ¤νΈ ν™•μ¥ λ° μ•μ •ν™”**
- **λ°°ν¬ μλ™ν™” & μ΄μ κ°€μ΄λ“ μ •λΉ„**

## π› οΈ κΈ°μ  μ¤νƒ
- **μ–Έμ–΄**: Python 3.11+
- **AI λ¨λΈ**: Google Gemini (gemini-1.5-pro)
- **μ£Όμ” λΌμ΄λΈλ¬λ¦¬**: 
  - `google-generativeai`: Gemini API μ—°λ™
  - `discord.py`: Discord λ΄‡ κΈ°λ¥
  - `notion-client`: Notion API μ—°λ™
  - `python-dotenv`: ν™κ²½λ³€μ κ΄€λ¦¬

## π’΅ μ£Όμ” νΉμ§•

### 1. **μ§€λ¥μ  κ³„ν μλ¦½**
- LLMμ΄ μ‚¬μ©μ μ”μ²­μ„ λ¶„μ„ν•μ—¬ λ‹¨κ³„λ³„ κ³„ν μƒμ„±
- μ‹¤ν¨ μ‹ μλ™ μ¬κ³„ν λλ” μ¬μ‹λ„ κ²°μ •

### 2. **κ°•λ ¥ν• μ—λ¬ λ³µκµ¬**
- μ‹¤ν¨ λ΅κ·Έ μ¶”μ  λ° LLMμ— ν”Όλ“λ°± μ κ³µ
- λ¬΄ν• λ£¨ν”„ λ°©μ§€ λ° μ•μ „ μ ν•

### 3. **ν™•μ¥ κ°€λ¥ν• λ„κµ¬ μ‹μ¤ν…**
- MCP ν‘μ¤€ κΈ°λ° λ„κµ¬ μ•„ν‚¤ν…μ²
- μƒλ΅μ΄ λ„κµ¬ μ‰½κ² μ¶”κ°€ κ°€λ¥

### 4. **λ‹¤μ¤‘ μΈν„°νμ΄μ¤**
- ν™κ²½λ³€μλ΅ μΈν„°νμ΄μ¤ μ „ν™
- CLIμ™€ Discordμ—μ„ λ™μΌν• κΈ°λ¥ μ κ³µ

### 5. **μ¥κΈ° κΈ°μ–µ κ΄€μ°° λ° μ μ§€λ³΄μ**
- `MemoryMetrics`λ΅ μ €μ¥/μ΅°ν μ„±κ³µλ¥ κ³Ό ν‰κ·  μ§€μ—°μ„ μ‹¤μ‹κ°„μΌλ΅ μ§‘κ³„
- `docs/memory_maintenance.md`μ— μ„λ² λ”© κµμ²΄Β·λ°μ΄ν„° μ •λ¦¬/λ³΄νΈ μ μ°¨λ¥Ό λ¬Έμ„ν™”
- μµμΆ… μ‘λ‹µμ€ `[chars_total=..., thinking_chars=...]` ν•μ‹μΌλ΅ λ‚΄λ¶€ μ‚¬κ³ /μ¶λ ¥ κΈΈμ΄λ¥Ό ν•¨κ» μ κ³µν•μ—¬ ν¬λ…μ„±μ„ λ†’μ€μµλ‹λ‹¤

## π® μ‚¬μ© μμ‹
```bash
# CLIμ—μ„
assistant> λ‚΄ ν™ λ””λ ‰ν„°λ¦¬ λ¬Έμ„ ν΄λ” λ©λ΅ λ³΄μ—¬μ¤

# Discordμ—μ„
@bot λ‚΄ λ‹¤μ΄λ΅λ“ ν΄λ” νμΌ λ©λ΅ μ •λ¦¬ν•΄μ¤
```

## μ‹μ‘ν•κΈ°
1. κ°€μƒν™κ²½μ„ μƒμ„±ν•κ³  `requirements.txt`λ¥Ό μ„¤μΉν•μ„Έμ”.
   ```bash
   python -m pip install -r requirements.txt
   ```

2. `.env.example`μ„ μ°Έκ³ ν•μ—¬ `.env` νμΌμ„ μ¤€λΉ„ν•μ„Έμ”. ν•„μ ν•­λ©:
   - `DEFAULT_INTERFACE=cli` (λλ” `discord`)
   - `GEMINI_API_KEY=your_api_key_here` (ν•„μ)
   - `GEMINI_MODEL=gemini-1.5-pro` (κΈ°λ³Έκ°’)
   - `DISCORD_BOT_TOKEN=your_token_here` (Discord μ‚¬μ© μ‹)

3. `main.py`λ¥Ό μ‹¤ν–‰ν•λ©΄ μ„¤μ •ν• κΈ°λ³Έ μΈν„°νμ΄μ¤κ°€ κµ¬λ™λ©λ‹λ‹¤.
   ```bash
   python main.py
   ```

μμ„Έν• μ‚¬μ©λ²•μ€ `docs/USAGE.md`μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
μ‘μ—… κ³„νκ³Ό μ§„ν–‰ μƒν™©μ€ `PLAN_for_AI_Agent.md`μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
λ©”λ¨λ¦¬ μ μ§€λ³΄μμ™€ κ΄€μ°° μ§€μΉ¨μ€ `docs/memory_maintenance.md`μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
